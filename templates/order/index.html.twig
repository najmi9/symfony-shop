{% extends 'base.html.twig' %}

{% block title %}Orders List!{% endblock %}

{% block body %}
	<div class="container">
		<div class="card card-custom">
			<div class="card-header">
				<div class="card-title">
					<h2> Orders List </h2>
				</div>
			</div>

			<div class="card-body">
				<table class="table table-striped">
  					<thead>
                      <tr>
                        <th scope="col">#ID</th>
                        <th scope="col">Amount</th>
                        <th scope="col">Create At</th>
                        <th scope="col">Status</th>
                      </tr>
                    </thead>
                    <tbody>
                  		{% for o in orders %}
                  			<tr>
                        		<th scope="row">{{ o.identifiant }}</th>
                        		<td>{{ o.amount }}</td>
                        		<td>{{ o.createdAt| date }}</td>
                        		<td> 
                        			{% if o.status == 'CREATED' %}
                                <span class="badge badge-warning">Not Approved</span>
                        			  
                                   <a href="{{ o.approveLink }}" class="btn btn-sm" target="_blanck"> <small>Approve order</small></a>
                                
                        			{% else %}
                        				<span class="badge badge-success">Approved</span>
                        			{% endif %}
                        		</td>
                      		</tr>
                  		{% endfor %}
                    </tbody>
                 </table>
			</div>

			<div class="card-footer">
				<div class="navigation d-flex justify-content-center align-items-center my-3">
            {{ knp_pagination_render(orders) }}
        </div>
			</div>
		</div>
	</div>
{% endblock %}
